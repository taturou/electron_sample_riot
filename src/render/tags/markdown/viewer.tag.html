<markdown-viewer>
  <div class="contents" ref="contents"></div>

  <script>
    import {subscribe, unsubscribe} from 'businessman';
    import MarkdownIt from 'markdown-it';

    let tag = this;
    tag.md = new MarkdownIt();

    tag.on('mount', () => {
      subscribe('markdown', (state, mutationType) => {
        tag.refs.contents.innerHTML = tag.md.render(state);
        tag.update();
      });
    });

    tag.on('unmount', () => {
      unsubscribe('markdown');
    });
  </script>

  <style type="scss">
    .contents {
      height: 90vh;
      min-height: 90vh;
      max-height: 90vh;
    }
  </style>
</markdown-viewer>